{"version":3,"file":"cart.js","sources":["../src/js/helpers.js","../src/cart.js"],"sourcesContent":["//Допоміжні функції\n\nimport { STORAGE_KEYS } from './constants';\nimport { fetchProductById } from './products-api';\nimport { refs } from './refs';\n\nconst cartListFromLocalStorage = JSON.parse(\n  localStorage.getItem(STORAGE_KEYS.CARD_KEY)\n);\n\nexport function totalPriceInCart(arr) {\n  const totalPrice = arr.reduce((acc, { price }) => {\n    return acc + price;\n  }, 0);\n\n  refs.totalValue.textContent = Math.floor(totalPrice);\n}\nexport function valuesInCart() {\n  refs.itemsValue.textContent = cartListFromLocalStorage.length;\n}\n","//Логіка сторінки Cart\n\nimport iziToast from 'izitoast';\nimport { STORAGE_KEYS } from './js/constants';\nimport { fetchProductById } from './js/products-api';\nimport { productListForCart } from './js/render-function';\nimport { refs } from './js/refs';\nimport { totalPriceInCart, valuesInCart } from './js/helpers';\nimport { closeModal, handleClickOnProductCard } from './js/modal';\n\nrefs.productsList.addEventListener('click', handleClickOnProductCard);\nrefs.modalCloseBtn.addEventListener('click', closeModal);\nlet cartListFromLocalStorage =\n  JSON.parse(localStorage.getItem(STORAGE_KEYS.CARD_KEY)) || [];\n\nrefs.totalProductsInCart.textContent = cartListFromLocalStorage.length;\nlet list = cartListFromLocalStorage.map(id => fetchProductById(id));\n\nPromise.all(list)\n  .then(products => {\n    valuesInCart();\n    totalPriceInCart(products);\n    productListForCart(products);\n  })\n  .catch(error => {\n    iziToast.error({\n      message: error.message,\n      position: 'topRight',\n    });\n  });\n\n// refs.totalProductsInCart.textContent = cartListFromLocalStorage.length;\n// const cartListFromLocalStorageAfterDelete = JSON.parse(\n//   localStorage.getItem(STORAGE_KEYS.CARD_KEY || [])\n// );\n// const listAfterDelete = cartListFromLocalStorageAfterDelete.map(id =>\n//   fetchProductById(id)\n// );\n// Promise.all(listAfterDelete)\n//   .then(products => {\n//     valuesInCart();\n//     totalPriceInCart(products);\n//     productListForCart(products);\n//   })\n//   .catch(error => {\n//     iziToast.error({\n//       message: error.message,\n//       position: 'topRight',\n//     });\n//   });\nlet wishListFromLocalStorage = JSON.parse(\n  localStorage.getItem(STORAGE_KEYS.WISH_KEY)\n);\nrefs.itemsWishValue.textContent = wishListFromLocalStorage.length;\n"],"names":["cartListFromLocalStorage","STORAGE_KEYS","totalPriceInCart","arr","totalPrice","acc","price","refs","valuesInCart","handleClickOnProductCard","closeModal","list","id","fetchProductById","products","productListForCart","error","iziToast","wishListFromLocalStorage"],"mappings":"oKAMA,MAAMA,EAA2B,KAAK,MACpC,aAAa,QAAQC,EAAa,QAAQ,CAC5C,EAEO,SAASC,EAAiBC,EAAK,CACpC,MAAMC,EAAaD,EAAI,OAAO,CAACE,EAAK,CAAE,MAAAC,KAC7BD,EAAMC,EACZ,CAAC,EAEJC,EAAK,WAAW,YAAc,KAAK,MAAMH,CAAU,CACrD,CACO,SAASI,GAAe,CAC7BD,EAAK,WAAW,YAAcP,EAAyB,MACzD,CCTAO,EAAK,aAAa,iBAAiB,QAASE,CAAwB,EACpEF,EAAK,cAAc,iBAAiB,QAASG,CAAU,EACvD,IAAIV,EACF,KAAK,MAAM,aAAa,QAAQC,EAAa,QAAQ,CAAC,GAAK,GAE7DM,EAAK,oBAAoB,YAAcP,EAAyB,OAChE,IAAIW,EAAOX,EAAyB,IAAIY,GAAMC,EAAiBD,CAAE,CAAC,EAElE,QAAQ,IAAID,CAAI,EACb,KAAKG,GAAY,CAChBN,IACAN,EAAiBY,CAAQ,EACzBC,EAAmBD,CAAQ,CAC/B,CAAG,EACA,MAAME,GAAS,CACdC,EAAS,MAAM,CACb,QAASD,EAAM,QACf,SAAU,UAChB,CAAK,CACL,CAAG,EAqBH,IAAIE,EAA2B,KAAK,MAClC,aAAa,QAAQjB,EAAa,QAAQ,CAC5C,EACAM,EAAK,eAAe,YAAcW,EAAyB"}