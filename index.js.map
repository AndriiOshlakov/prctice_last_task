{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  // Lists\n\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  cartSummaryList: document.querySelector('.cart-summary__list'),\n\n  //  div.not-found\n  notFound: document.querySelector('.not-found'),\n\n  // Form\n  searchForm: document.querySelector('.search-form'),\n\n  // Modal\n  modal: document.querySelector('.modal'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  wishListBtn: document.querySelector('.modal-product__btn--wishlist'),\n  cardListBtn: document.querySelector('.modal-product__btn--cart'),\n};\n","// Функції для роботи з бекендом\n\nimport axios from 'axios';\nimport iziToast from 'izitoast';\n\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nexport async function fetchCategories() {\n  try {\n    const { data } = await axios('/products/categories');\n\n    return data;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n\nexport async function fetchProducts(currentPage = 1) {\n  const url = `/products?limit=12&skip=${(currentPage - 1) * 12}`;\n  try {\n    const { data } = await axios(url);\n\n    return data.products;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n\nexport async function fetchProductByCategory(category) {\n  try {\n    const { data } = await axios(`/products/category/${category}`);\n    return data.products;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n\nexport async function fetchProductById(id) {\n  try {\n    const { data } = await axios(`/products/${id}`);\n    return data;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n\nexport async function fetchProductByName(name) {\n  try {\n    const { data } = await axios(`/search?q=${name}`);\n    return data;\n  } catch (error) {\n    iziToast.error({ message: error.message, position: 'topRight' });\n  }\n}\n","//Функцію для створення, рендеру або видалення розмітки\n\nimport { refs } from './refs';\nimport {\n  fetchCategories,\n  fetchProductByCategory,\n  fetchProducts,\n} from './products-api';\n\nexport function createMarkupCategoriesList(arr) {\n  return arr\n    .map(\n      ({ name }) => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${name}</button></li>`\n    )\n    .join('');\n}\n\nexport const categoryList = async () => {\n  const data = await fetchCategories();\n  data.unshift({ name: 'ALL' });\n  refs.categoriesList.insertAdjacentHTML(\n    'beforeend',\n    createMarkupCategoriesList(data)\n  );\n};\n\nexport function createMarkupProductsList(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        images,\n        description,\n        title,\n        brand,\n        category,\n        price,\n      }) => `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category:${category} </p>\n    <p class=\"products__price\">Price:${price} $</p>\n </li>\n`\n    )\n    .join('');\n}\n\nexport const productsList = async () => {\n  const data = await fetchProducts();\n  refs.productsList.insertAdjacentHTML(\n    'beforeend',\n    createMarkupProductsList(data)\n  );\n};\n\nexport const productsListByCategory = async () => {\n  const data = await fetchProductByCategory();\n  refs.productsList.insertAdjacentHTML(\n    'beforeend',\n    createMarkupProductsList(data)\n  );\n};\n","// Функції, які передаються колбеками в addEventListners\n\nimport { fetchProductByCategory } from './products-api';\nimport {\n  categoryList,\n  createMarkupProductsList,\n  productsListByCategory,\n} from './render-function';\n\nexport const handleClickOnCategory = async event => {\n  const categoryBtn = event.target;\n  console.log(categoryBtn);\n\n  const categoryName = categoryBtn.textContent;\n  console.log(categoryName);\n  if (!categoryBtn.classList.contains('products__btn')) {\n    return;\n  }\n  console.log(categoryName);\n  const categoryProducts = await fetchProductByCategory(categoryName);\n  console.log(categoryProducts);\n\n  productsListByCategory(categoryProducts);\n};\n","//Логіка сторінки Home\n\nimport { refs } from './js/refs';\nimport {\n  fetchCategories,\n  fetchProductByCategory,\n  fetchProductById,\n  fetchProductByName,\n  fetchProducts,\n} from './js/products-api';\nimport {\n  categoryList,\n  productsList,\n  productsListByCategory,\n} from './js/render-function';\nimport { handleClickOnCategory } from './js/handlers';\n\ncategoryList();\nproductsList();\nrefs.categoriesList.addEventListener('click', handleClickOnCategory);\n"],"names":["refs","axios","fetchCategories","data","error","iziToast","fetchProducts","currentPage","url","fetchProductByCategory","category","createMarkupCategoriesList","arr","name","categoryList","createMarkupProductsList","id","images","description","title","brand","price","productsList","productsListByCategory","handleClickOnCategory","event","categoryBtn","categoryName","categoryProducts"],"mappings":"2FAEO,MAAMA,EAAO,CAGlB,eAAgB,SAAS,cAAc,aAAa,EACpD,aAAc,SAAS,cAAc,WAAW,EAChD,gBAAiB,SAAS,cAAc,qBAAqB,EAG7D,SAAU,SAAS,cAAc,YAAY,EAG7C,WAAY,SAAS,cAAc,cAAc,EAGjD,MAAO,SAAS,cAAc,QAAQ,EACtC,cAAe,SAAS,cAAc,mBAAmB,EACzD,YAAa,SAAS,cAAc,+BAA+B,EACnE,YAAa,SAAS,cAAc,2BAA2B,CACjE,ECfAC,EAAM,SAAS,QAAU,wBAElB,eAAeC,GAAkB,CACtC,GAAI,CACF,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMF,EAAM,sBAAsB,EAEnD,OAAOE,CACR,OAAQC,EAAO,CACdC,EAAS,MAAM,CAAE,QAASD,EAAM,QAAS,SAAU,UAAU,CAAE,CAChE,CACH,CAEO,eAAeE,EAAcC,EAAc,EAAG,CACnD,MAAMC,EAAM,4BAA4BD,EAAc,GAAK,EAAE,GAC7D,GAAI,CACF,KAAM,CAAE,KAAAJ,CAAM,EAAG,MAAMF,EAAMO,CAAG,EAEhC,OAAOL,EAAK,QACb,OAAQC,EAAO,CACdC,EAAS,MAAM,CAAE,QAASD,EAAM,QAAS,SAAU,UAAU,CAAE,CAChE,CACH,CAEO,eAAeK,EAAuBC,EAAU,CACrD,GAAI,CACF,KAAM,CAAE,KAAAP,CAAI,EAAK,MAAMF,EAAM,sBAAsBS,CAAQ,EAAE,EAC7D,OAAOP,EAAK,QACb,OAAQC,EAAO,CACdC,EAAS,MAAM,CAAE,QAASD,EAAM,QAAS,SAAU,UAAU,CAAE,CAChE,CACH,CC1BO,SAASO,EAA2BC,EAAK,CAC9C,OAAOA,EACJ,IACC,CAAC,CAAE,KAAAC,CAAI,IAAO;AAAA,mDAC+BA,CAAI,gBAClD,EACA,KAAK,EAAE,CACZ,CAEO,MAAMC,EAAe,SAAY,CACtC,MAAMX,EAAO,MAAMD,IACnBC,EAAK,QAAQ,CAAE,KAAM,KAAO,CAAA,EAC5BH,EAAK,eAAe,mBAClB,YACAW,EAA2BR,CAAI,CACnC,CACA,EAEO,SAASY,EAAyBH,EAAK,CAC5C,OAAOA,EACJ,IACC,CAAC,CACC,GAAAI,EACA,OAAAC,EACA,YAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAV,EACA,MAAAW,CACR,IAAY,uCAAuCL,CAAE;AAAA,wCACbC,EAAO,CAAC,CAAC,UAAUC,CAAW;AAAA,iCACrCC,CAAK;AAAA,kFAC4CC,CAAK;AAAA,6CAC1CV,CAAQ;AAAA,uCACdW,CAAK;AAAA;AAAA,CAGvC,EACA,KAAK,EAAE,CACZ,CAEO,MAAMC,EAAe,SAAY,CACtC,MAAMnB,EAAO,MAAMG,IACnBN,EAAK,aAAa,mBAChB,YACAe,EAAyBZ,CAAI,CACjC,CACA,EAEaoB,EAAyB,SAAY,CAChD,MAAMpB,EAAO,MAAMM,IACnBT,EAAK,aAAa,mBAChB,YACAe,EAAyBZ,CAAI,CACjC,CACA,ECvDaqB,EAAwB,MAAMC,GAAS,CAClD,MAAMC,EAAcD,EAAM,OAC1B,QAAQ,IAAIC,CAAW,EAEvB,MAAMC,EAAeD,EAAY,YAEjC,GADA,QAAQ,IAAIC,CAAY,EACpB,CAACD,EAAY,UAAU,SAAS,eAAe,EACjD,OAEF,QAAQ,IAAIC,CAAY,EACxB,MAAMC,EAAmB,MAAMnB,EAAuBkB,CAAY,EAClE,QAAQ,IAAIC,CAAgB,EAE5BL,EAAuC,CACzC,ECNAT,IACAQ,IACAtB,EAAK,eAAe,iBAAiB,QAASwB,CAAqB"}